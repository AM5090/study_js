(()=>{"use strict";var e,t,n,o,r,c,a,i,u,l;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds"),r=0;function c(){var e,c,a,i=(e=(new Date("22 january 2021").getTime()-(new Date).getTime())/1e3,c=Math.floor(e%60),a=Math.floor(e/60%60),{timeRemaining:e,hours:Math.floor(e/60/60),minutes:a,seconds:c});i.timeRemaining>0?(t.textContent=i.hours>9?i.hours:"0"+i.hours,n.textContent=i.minutes>9?i.minutes:"0"+i.minutes,o.textContent=i.seconds>9?i.seconds:"0"+i.seconds):(t.textContent="00",n.textContent="00",o.textContent="00",clearInterval(r))}c(),r=setInterval(c,1e3)})(),l=document.querySelector("menu"),document.addEventListener("click",(function(e){var t=e.target;t.closest("div.menu")?l.classList.toggle("active-menu"):t.matches("menu.active-menu")||t.matches("ul>li")||l.classList.remove("active-menu")})),r=document.querySelector(".popup"),c=document.querySelectorAll(".popup-btn"),a=document.querySelector(".popup-content"),i=-400,u=function e(){screen.width>768?(o=requestAnimationFrame(e),i+=8,a.style.top=i+"px","200px"===a.style.top&&(cancelAnimationFrame(o),i=-400)):(cancelAnimationFrame(o),r.style.display="block")},c.forEach((function(e){e.addEventListener("click",(function(){o=requestAnimationFrame(u),r.style.display="block"}))})),r.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?r.style.display="none":(t=t.closest(".popup-content"))||(r.style.display="none")})),e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab"),e.addEventListener("click",(function(e){var o=e.target;(o=o.closest(".service-header-tab"))&&t.forEach((function(e,r){e===o&&function(e){for(var o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))}(r)}))})),function(){for(var e=document.querySelector(".portfolio-dots"),t=document.querySelectorAll(".portfolio-item"),n=0;n<t.length;n++){var o=document.createElement("li");o.classList.add("dot"),e.append(o)}e.firstChild.classList.add("dot-active")}(),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelectorAll(".dot"),o=document.querySelector(".portfolio-content"),r=0,c=function(e,t,n){e[t].classList.remove(n)},a=function(e,t,n){e[t].classList.add(n)},i=function(){c(t,r,"portfolio-item-active"),c(n,r,"dot-active"),++r>=t.length&&(r=0),a(t,r,"portfolio-item-active"),a(n,r,"dot-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(i,t)};o.addEventListener("click",(function(e){e.preventDefault();var o=e.target;o.matches(".portfolio-btn, .dot")&&(c(t,r,"portfolio-item-active"),c(n,r,"dot-active"),o.matches("#arrow-right")?r++:o.matches("#arrow-left")?r--:o.matches(".dot")&&n.forEach((function(e,t){e===o&&(r=t)})),r>=t.length&&(r=0),r<0&&(r=t.length-1),a(t,r,"portfolio-item-active"),a(n,r,"dot-active"))})),o.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),o.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()})),u(1500)}(),document.querySelectorAll("img.command__photo").forEach((function(e){e.addEventListener("mouseover",(function(t){var n=t.target.src;t.target.src=t.target.dataset.img,e.addEventListener("mouseout",(function(e){e.target.src=n}))}))})),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),c=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),i=document.getElementById("total"),u=function(){var n=0,u=1,l=1,s=0,m=o.options[o.selectedIndex].value,d=+r.value;c.value>1&&(u+=(c.value-1)/10),a.value&&a.value<5?l*=2:a.value&&a.value<10&&(l*=1.5),m&&d&&(n=t*m*d*u*l),e=requestAnimationFrame((function t(){e=requestAnimationFrame(t,1),(s+=n<1e3?100:n<5e3?700:n<1e4?2e3:5e3)<n?i.textContent=s:(i.textContent=Math.floor(n),cancelAnimationFrame(e))}),1)};n.addEventListener("input",(function(t){var n=t.target;(n.matches("select")||n.matches("input"))&&(cancelAnimationFrame(e),n.matches("input")&&(n.value=n.value.replace(/\D/g,"")),"0"===n.value||""===n.value?(i.textContent=0,clearInterval(e)):u())}))}(100),function(){var e="Что то пошло не так...",t="Загрузка...",n="Спасибо! Мы скоро с вами свяжемся!",o=document.getElementById("form1"),r=document.getElementById("form2"),c=document.getElementById("form3"),a=o.querySelectorAll("input"),i=r.querySelectorAll("input"),u=c.querySelectorAll("input"),l=document.createElement("div");l.style.cssText="font-size: 2rem;",function(){var e=/[^0-9+]/,t=/[^А-Яа-яЁё\s]/,n=/[^А-Яа-яЁё\s\d\.\,\!]/;function o(o){o.addEventListener("input",(function(){"user_phone"===o.name?(o.value=o.value.replace(e,""),o.setAttribute("pattern","[0-9+]{11,}")):"user_name"===o.name?(o.value=o.value.replace(t,""),o.setAttribute("pattern","[А-Яа-яЁё\\s]{2,50}")):"user_message"===o.name?o.value=o.value.replace(n,""):"user_email"===o.name&&(o.value=o.value.replace(/[А-Яа-яЁё]/,""),o.setAttribute("pattern","\\w+@\\w+\\.\\w{2,3}"))}))}a.forEach((function(e){return o(e)})),i.forEach((function(e){return o(e)})),u.forEach((function(e){return o(e)}))}();var s=function(e){e.forEach((function(e){"text"!==e.type&&"email"!==e.type&&"tel"!==e.type||(e.value="")}))};o.addEventListener("submit",(function(r){r.preventDefault(),o.append(l),l.textContent=t,l.style.cssText="color: #fff;";var c=new FormData(o),i={};c.forEach((function(e,t){i[t]=e})),m(i).then((function(e){if(200!==e.status)throw new Error("status network not 200");l.textContent=n,s(a)})).catch((function(t){console.error(t),l.textContent=e,s(a)}))})),r.addEventListener("submit",(function(o){o.preventDefault(),r.append(l),l.textContent=t,l.style.cssText="color: #fff;";var c=new FormData(r),a={};c.forEach((function(e,t){a[t]=e})),m(a).then((function(e){if(200!==e.status)throw new Error("status network not 200");l.textContent=n,s(i)})).catch((function(t){console.error(t),l.textContent=e,s(i)}))})),c.addEventListener("submit",(function(o){o.preventDefault(),c.append(l),l.textContent=t,l.style.cssText="color: #19b5fe;";var r=new FormData(c),a={};r.forEach((function(e,t){a[t]=e})),m(a).then((function(e){if(200!==e.status)throw new Error("status network not 200");l.textContent=n,s(u)})).catch((function(t){console.error(t),l.textContent=e,s(u)}))}));var m=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();